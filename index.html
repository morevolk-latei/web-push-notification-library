<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="shortcut icon" type="image/png" href="./favicon.png"/>
    <title>Sample notification API</title>
    <link rel="stylesheet" href="">
</head>
<body>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-messaging.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-analytics.js"></script>

    <script src="firebase-init.js"></script>
    <script src="notification-service-minified.js"></script>
    <script>
        /* serverPublicKey: 'BJdpxo6AaBkFtqlODWpxb-ELSmntQvro35GI7niGxfeAAUDh-X9yhgv8WYQiruTs8pbIWwOSCQl1aJLqaej_ims',

            messaging: firebase.messaging(), */
        var config = {
            workerFilePath: 'notification-worker.js',
            serverPublicKey: 'BJdpxo6AaBkFtqlODWpxb-ELSmntQvro35GI7niGxfeAAUDh-X9yhgv8WYQiruTs8pbIWwOSCQl1aJLqaej_ims',
            messaging: firebase.messaging()
        };

        var Notify = new PushNotification(config);
        // Memory management
        window.addEventListener('unload', function(e){
            e.cancelBubble = true;
            if (e.stopPropagation) {
                e.stopPropagation();
                e.preventDefault();
            }

            console.log('Freeing allocated memory');
            Notify = null;
        });
    </script>
</body>
</html>